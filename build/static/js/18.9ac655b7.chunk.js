(this["webpackJsonpkrama-nft"]=this["webpackJsonpkrama-nft"]||[]).push([[18],{818:function(e,t,a){"use strict";t.a=a.p+"static/media/auctionBack.0ffd390c.png"},923:function(e,t,a){"use strict";var n=a(55),i=a(56);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(0)),o=(0,n(a(57)).default)(r.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"}),"CancelOutlined");t.default=o},940:function(e,t,a){"use strict";a.r(t);var n=a(21),i=a(16),r=a(0),o=a.n(r),l=a(805),c=a(20),s=a(3),d=a(4),u=a(7),m=a(136),p=a(341),b=a(923),j=a.n(b),f=a(168),g=a(86),h=a(62),x=a.n(h),O=a(19),v=a(80),w=a(224),k=Object(w.a)((function(e){var t,a;return{ProfilePic:Object(s.a)({height:"100px",width:"100px",borderRadius:"50%",backgroundPosition:"center",backgroundSize:"contain",border:"5px solid #B3A16C"},e.breakpoints.down("xs"),{display:"block",margin:"0 auto"}),profilePicRoot:(t={display:"flex",justifyContent:"space-between",width:"40%",padding:"30px 0px"},Object(s.a)(t,e.breakpoints.down("md"),{width:"50%"}),Object(s.a)(t,e.breakpoints.down("sm"),{width:"70%"}),Object(s.a)(t,e.breakpoints.down("xs"),{width:"100%",display:"block",margin:"0 auto"}),t),uploadWrap:(a={userSelect:"none",display:"flex",flexDirection:"column",justifyContent:"space-between",paddingLeft:10,"& p":{margin:0,fontSize:16,fontWeight:"bold"}},Object(s.a)(a,e.breakpoints.up("sm"),{width:"60%"}),Object(s.a)(a,e.breakpoints.down("sm"),{paddingLeft:20}),Object(s.a)(a,e.breakpoints.down("xs"),{marginTop:20,textAlign:"center"}),a),name:{paddingBottom:"10px"}}})),I=a(1),y=function(e){var t=e.userId,a=e.profileImage,i=k(),l=o.a.useRef(null),c=Object(r.useRef)(),s=o.a.useState({selectedFile:null,invalidImage:null}),d=Object(n.a)(s,2)[1];return Object(I.jsxs)("div",{className:i.profilePicRoot,children:[Object(I.jsx)("div",{ref:c,className:i.ProfilePic,style:{backgroundImage:"url('".concat(a,"')")}}),Object(I.jsxs)("div",{className:i.uploadWrap,children:[Object(I.jsxs)("div",{className:i.name,children:[Object(I.jsx)("p",{children:"Profile Picture"}),Object(I.jsx)("small",{children:"We recommend an image of at least 400x400. Gifs work too \ud83d\ude4c"})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)(v.a,{title:"Upload",lg:!0,inputBtn:!0,onClick:function(){l.current.click()}}),Object(I.jsx)("input",{accept:"image/*",type:"file",style:{display:"none"},ref:l,onChange:function(e){e.preventDefault();var a=new FileReader,n=e.target.files[0];return n?n.name.toLowerCase().match(/\.(jpg|jpeg|png|gif)$/)?(a.readAsDataURL(n),void(a.onload=function(a){var i=new Image;i.onload=function(){d({selectedFile:n,invalidImage:null})},i.onerror=function(){return d({invalidImage:"Invalid image content."}),!1},i.src=a.target.result,c.current&&(c.current.style.backgroundImage="url(".concat(i.src,")"));var r=new FormData;r.append("profilePic",n,n.name),r.append("userId",t),Object(O.h)(r),e.target.value=""})):(d({invalidImage:"Please select valid image."}),!1):(d({invalidImage:"Please select image."}),!1)}})]})]})]})},C=a(96),P=Object(w.a)((function(e){return{inputsContainer:{paddingBottom:"50px"},submit:{borderTop:"1px solid #e6e8ec",padding:"20px 0px",display:"flex",alignItems:"center",width:"100%","& a":{display:"flex",alignItems:"center",color:"#777E91",textDecoration:"none",paddingLeft:"20px",fontWeight:"700",width:"100%"}},clearButton:{borderRadius:15,height:"100%"},bio:{"& .MuiInputBase-root":{paddingBottom:27}},title:{fontWeight:700,userSelect:"none"},message:{fontFamily:"Tajawal, sans-serif"},error:{color:"red"},success:{color:"green"}}})),N={updateProfileInfo:a(64).f},F=Object(c.b)((function(e){var t=e.ArtistProfile;return Object(i.a)({},t)}),N)((function(e){var t=e.userId,a=e.isProfileUpdating,n=e.isProfileUpdatingFailed,i=e.isProfileUpdated,r=e.user,o=r.bio,c=r.fullName,b=r.img,h=r.portfolio,O=r.instagram,w=r.twitter,k=r.facebook,N=e.updateProfileInfo,F=P(),R=g.d({fullname:g.e("").required("Display Name is required."),bio:g.e(""),portfolio:g.e(""),twitter:g.e(""),instagram:g.e(""),facebook:g.e("")}),B=Object(f.a)({initialValues:{fullname:c||"",bio:o||"",portfolio:h||"",instagram:O||"",twitter:w||"",facebook:k||""},validationSchema:R,onSubmit:function(){var e=Object(u.a)(Object(d.a)().mark((function e(a,n){var i;return Object(d.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.resetForm,(i=new FormData).append("fullname",a.fullname),i.append("bio",a.bio),i.append("portfolio",a.portfolio),i.append("instagram",a.instagram),i.append("twitter",a.twitter),i.append("facebook",a.facebook),i.append("userId",t),e.next=11,N(i);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()});return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(l.a,{container:!0,className:F.formRoot,children:[Object(I.jsx)(l.a,{item:!0,lg:8,md:10,sm:12,xs:12,children:Object(I.jsx)(y,{userId:t,profileImage:b})}),(n||i)&&Object(I.jsx)(l.a,{item:!0,lg:8,md:10,sm:12,children:Object(I.jsx)(m.a,{className:x()(F.message,Object(s.a)({},F.error,n),Object(s.a)({},F.success,i)),children:i?"Update Profile Successfully.":"An Error occured. Please try again later."})}),Object(I.jsxs)("form",{onSubmit:B.handleSubmit,children:[Object(I.jsxs)(l.a,{container:!0,spacing:2,className:F.inputsContainer,children:[Object(I.jsxs)(l.a,{item:!0,lg:5,md:6,sm:12,xs:12,className:F.account,children:[Object(I.jsx)("p",{className:F.title,children:"Account Info"}),Object(I.jsxs)(l.a,{container:!0,spacing:1,children:[Object(I.jsx)(l.a,{item:!0,xs:12,children:Object(I.jsx)(C.a,{fullWidth:!0,variant:"outlined",label:"Display Name",type:"text",name:"fullname",value:B.values.fullname,helperText:B.touched.fullname&&B.errors.fullname,error:B.touched.fullname&&Boolean(B.errors.fullname),onChange:B.handleChange})}),Object(I.jsx)(l.a,{item:!0,xs:12,children:Object(I.jsx)(C.a,{className:F.bio,variant:"outlined",fullWidth:!0,multiline:!0,rows:4,label:"Bio",type:"text",name:"bio",value:B.values.bio,helperText:B.touched.bio&&B.errors.bio,error:B.touched.bio&&Boolean(B.errors.bio),onChange:B.handleChange})})]})]}),Object(I.jsxs)(l.a,{item:!0,lg:5,md:6,sm:12,xs:12,className:F.social,children:[Object(I.jsx)("p",{className:F.title,children:"Social"}),Object(I.jsxs)(l.a,{container:!0,spacing:1,children:[Object(I.jsx)(l.a,{item:!0,xs:12,children:Object(I.jsx)(C.a,{label:"Portfolio",variant:"outlined",type:"text",name:"portfolio",value:B.values.portfolio,helperText:B.touched.portfolio&&B.errors.portfolio,error:B.touched.portfolio&&Boolean(B.errors.portfolio),onChange:B.handleChange})}),Object(I.jsx)(l.a,{item:!0,xs:12,children:Object(I.jsx)(C.a,{label:"Instagram",variant:"outlined",type:"text",name:"instagram",value:B.values.instagram,helperText:B.touched.instagram&&B.errors.instagram,error:B.touched.instagram&&Boolean(B.errors.instagram),onChange:B.handleChange})}),Object(I.jsx)(l.a,{item:!0,xs:12,children:Object(I.jsx)(C.a,{label:"Twitter",variant:"outlined",type:"text",name:"twitter",value:B.values.twitter,helperText:B.touched.twitter&&B.errors.twitter,error:B.touched.twitter&&Boolean(B.errors.twitter),onChange:B.handleChange})}),Object(I.jsx)(l.a,{item:!0,xs:12,children:Object(I.jsx)(C.a,{label:"Facebook",variant:"outlined",type:"text",name:"facebook",value:B.values.facebook,helperText:B.touched.facebook&&B.errors.facebook,error:B.touched.facebook&&Boolean(B.errors.facebook),onChange:B.handleChange})})]})]})]}),Object(I.jsx)(l.a,{item:!0,lg:12,md:12,sm:12,xs:12,className:F.submit,children:Object(I.jsxs)(l.a,{container:!0,spacing:2,children:[Object(I.jsx)(l.a,{item:!0,sm:4,xs:12,children:Object(I.jsx)(v.a,{title:"Update",lg:!0,primary:!0,type:"submit",disabled:a})}),Object(I.jsx)(l.a,{item:!0,sm:4,xs:12,children:Object(I.jsx)(p.a,{startIcon:Object(I.jsx)(j.a,{}),fullWidth:!0,className:F.clearButton,onClick:function(){B.resetForm()},children:"Clear All"})})]})})]})]})})})),R=a(818),B=a(44),S=Object(w.a)((function(e){var t,a;return{coverImage:(t={minHeight:300,maxHeight:400,height:"100%",backgroundRepeat:"no-repeat",backgroundPosition:"center",position:"relative",width:"100%"},Object(s.a)(t,e.breakpoints.down("xs"),{minHeight:200,maxHeight:300}),Object(s.a)(t,"& .edit__profile",Object(s.a)({display:"flex",fontFamily:"Tajawal, sans-serif",position:"absolute",bottom:0,right:0,padding:e.spacing(2,0),paddingRight:e.spacing(2)},e.breakpoints.down("xs"),{flexDirection:"column",alignItems:"flex-end","& .button":{marginTop:5,width:"50%",right:0}})),t),direction:{userSelect:"none",width:"100%",backgroundColor:Object(B.a)("#000",.5),borderRadius:15,padding:"5px 10px",marginRight:5,color:"white","& p":{fontFamily:"Tajawal, sans-serif",fontWeight:"700",margin:0}},editProfileContainer:{maxWidth:1800,margin:"0 auto",fontFamily:"Tajawal, sans-serif","& h1":{margin:0}},contentWrap:(a={userSelect:"none",padding:"30px 120px"},Object(s.a)(a,e.breakpoints.down("md"),{padding:"30px 80px"}),Object(s.a)(a,e.breakpoints.down("sm"),{padding:"15px 40px"}),a)}})),T=a(26),W=(t.default=Object(c.b)((function(e){var t=e.Auth;return Object(i.a)({},t)}),null)((function(e){var t=e.user.userId,a=S();return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(W,{userId:t}),Object(I.jsx)(l.a,{container:!0,className:a.editProfileContainer,children:Object(I.jsxs)(l.a,{item:!0,lg:12,md:12,sm:12,xs:12,className:a.contentWrap,children:[Object(I.jsx)("h1",{children:"Edit Profile"}),Object(I.jsx)("p",{children:"You can set preferred display name, create your profile URL and manage other personal settings."}),Object(I.jsx)(F,{userId:t})]})})]})})),function(e){var t=e.userId,a=S(),i=Object(c.d)((function(e){return e})).ArtistProfile.user.cover,l=i?i.includes(T.a)?i:"".concat(T.a,"/").concat(i):R.a,s=Object(r.useRef)(),d=o.a.useState({selectedFile:null,invalidImage:null}),u=Object(n.a)(d,2)[1],m=Object(r.useRef)();return Object(I.jsx)("div",{className:a.coverImage,style:{backgroundImage:"url('".concat(l,"')")},ref:s,children:Object(I.jsxs)("div",{className:"edit__profile",children:[Object(I.jsxs)("div",{className:a.direction,children:[Object(I.jsx)("p",{children:"Cover Photo"}),Object(I.jsx)("small",{children:"We recommend an image of at least 1360x252."})]}),Object(I.jsxs)("div",{className:"button",children:[Object(I.jsx)(v.a,{title:"Upload",inputBtn:!0,lg:!0,onClick:function(){m.current.click()}}),Object(I.jsx)("input",{ref:m,type:"file",accept:"image/*",onChange:function(e){e.preventDefault();var a=new FileReader,n=e.target.files[0];return n?n.name.toLowerCase().match(/\.(jpg|jpeg|png|gif)$/)?(a.readAsDataURL(n),void(a.onload=function(a){var i=new Image;i.onload=function(){u({selectedFile:n,invalidImage:null})},i.onerror=function(){return u({invalidImage:"Invalid image content."}),!1},i.src=a.target.result,s.current&&(s.current.style.backgroundImage="url(".concat(i.src,")"));var r=new FormData;r.append("profilePic",n,n.name),r.append("userId",t),Object(O.f)(r),e.target.value=""})):(u({invalidImage:"Please select valid image."}),!1):(u({invalidImage:"Please select image."}),!1)},style:{display:"none"}})]})]})})})}}]);