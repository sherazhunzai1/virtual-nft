(this["webpackJsonpkrama-nft"]=this["webpackJsonpkrama-nft"]||[]).push([[16],{825:function(e,t,a){"use strict";t.a=a.p+"static/media/nftDispBackground.bb4e5112.jpg"},826:function(e,t,a){"use strict";a(0);var r=a(3),i=a(226),n=Object(i.a)((function(e){return{root:Object(r.a)({boxSizing:"border-box",paddingTop:e.spacing(4),paddingBottom:e.spacing(4),paddingLeft:e.spacing(5),paddingRight:e.spacing(5)},e.breakpoints.down("xs"),{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)})}})),o=a(1);t.a=function(e){var t=n();return Object(o.jsx)("div",{className:t.root,children:e.children})}},834:function(e,t,a){"use strict";var r=a(16),i=a(814),n=a(1);t.a=function(e){return Object(n.jsx)(i.a,Object(r.a)({color:"primary",fullWidth:e.fullWidth},e))}},849:function(e,t,a){"use strict";var r=a(16),i=a(6),n=a(14),o=a(2),c=a(0),s=a(10),l=a(44),d=a(22),h=a(219),u=c.forwardRef((function(e,t){var a=e.classes,r=e.className,n=e.color,l=void 0===n?"secondary":n,u=e.edge,p=void 0!==u&&u,b=e.size,m=void 0===b?"medium":b,g=Object(i.a)(e,["classes","className","color","edge","size"]),j=c.createElement("span",{className:a.thumb});return c.createElement("span",{className:Object(s.default)(a.root,r,{start:a.edgeStart,end:a.edgeEnd}[p],"small"===m&&a["size".concat(Object(d.a)(m))])},c.createElement(h.a,Object(o.a)({type:"checkbox",icon:j,checkedIcon:j,classes:{root:Object(s.default)(a.switchBase,a["color".concat(Object(d.a)(l))]),input:a.input,checked:a.checked,disabled:a.disabled},ref:t},g)),c.createElement("span",{className:a.track}))})),p=Object(n.a)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(l.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(l.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(u),b=a(1),m=["classes"],g=Object(n.a)((function(e){return{root:{width:42,height:21,padding:0,margin:e.spacing(1),display:"flex",alignItems:"center"},switchBase:{padding:1,"&$checked":{transform:"translateX(20px)",color:e.palette.common.white,"& + $thumb":{backgroundColor:"#3772FF",opacity:1,border:"none"},"& + $track":{backgroundColor:"#3772FF",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#52d869",border:"6px solid #fff",backgroundColor:"white"}},thumb:{width:19,height:19,backgroundColor:e.palette.common.white},track:{borderRadius:13,backgroundColor:"#E6E8EC",opacity:1},checked:{},focusVisible:{}}}))((function(e){var t=e.classes,a=Object(i.a)(e,m);return Object(b.jsx)(p,Object(r.a)({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},a))})),j=a(226),f=Object(j.a)((function(){return{switchMain:{padding:"16px 0px"},switchWrap:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},title:{margin:0,fontSize:"16px",fontWeight:"500"},phrase:{margin:0,fontSize:"12px !important",fontWeight:"400",color:"#777E90 "},displayNone:{display:"none"}}}));t.a=function(e){var t=f(),a=e.title,r=e.phrase,i=e.checked,n=e.setChecked,o=e.disabled;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"".concat(t.switchMain," ").concat("none"===a?t.displayNone:null),children:[Object(b.jsxs)("div",{className:t.switchWrap,children:[Object(b.jsx)("p",{className:t.title,children:a}),Object(b.jsx)(g,{color:"primary",checked:i,onChange:function(e){return function(e){n(e.target.checked)}(e)},disabled:o})]}),Object(b.jsx)("p",{className:t.phrase,children:r})]})})}},946:function(e,t,a){"use strict";a.r(t);var r=a(4),i=a(7),n=a(16),o=a(21),c=a(0),s=a.n(c),l=a(127),d=a(815),h=a(342),u=a(42),p=a(37),b=a(86),m=a(169),g=a(20),j=a(826),f=a(137),x=a(849),O=a(834),k=a(825),v=a(32),y=a(3),C=a(226),N=a(44),w=Object(C.a)((function(e){var t,a;return{root:(t={"&  *":{fontFamily:"Poppins, sans-serif",userSelect:"none"},padding:e.spacing(0,5)},Object(y.a)(t,e.breakpoints.down("xs"),{padding:0}),Object(y.a)(t,"display","grid"),Object(y.a)(t,"gridTemplateColumns","1.2fr 1fr"),Object(y.a)(t,"gap",e.spacing(10)),Object(y.a)(t,e.breakpoints.down("sm"),{display:"flex",flexDirection:"column-reverse",gap:e.spacing(5)}),t),container:{paddingTop:20},heading:Object(y.a)({marginBottom:e.spacing(1),fontWeight:600},e.breakpoints.down("xs"),{fontSize:30}),title:{fontSize:24,fontWeight:600,paddingTop:10},description:{boxSizing:"border-box",padding:"1px 0 20px",fontSize:20},imageRoot:{boxSizing:"border-box",maxWidth:400,width:"100%",padding:"20px 15px",margin:"auto"},cardMedia:{position:"relative","& .outer":{boxSizing:"border-box",margin:0,minWidth:0,width:"100%",height:0,paddingBottom:"100%"},"& .media__container":{margin:0,minWidth:0,position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",justifyContent:"center",alignItems:"center"},"& .media":{display:"block",objectFit:"cover",width:" 100%",height:"100%",borderRadius:15}},auctionTimeInputs:Object(y.a)({marginTop:10,display:"flex","& > div:first-child":{paddingRight:10}},e.breakpoints.down("xs"),{flexWrap:"wrap","& > div:first-child":{marginBottom:10}}),inputField:{marginTop:5},inputLabel:{margin:"10px 0 0","& .MuiInputBase-input":{paddingTop:15,paddingBottom:15,paddingLeft:12}},termLink:{textDecoration:"none",color:"#3772FF"},agreement:{display:"flex",alignItems:"center",paddingTop:40},note:{fontFamily:"Poppins, sans-serif",fontSize:16,margin:e.spacing(.5,0,2)},buttonsContainer:(a={display:"grid",gap:e.spacing(1,2),gridTemplateColumns:"1.5fr 1fr"},Object(y.a)(a,e.breakpoints.down("md"),{gridTemplateColumns:" 1fr 1fr"}),Object(y.a)(a,e.breakpoints.down("xs"),{gridTemplateColumns:" 1fr "}),Object(y.a)(a,"& .button",{borderRadius:15,color:"#fff",position:"relative",top:0,transition:"250ms","&:hover":{top:-3}}),Object(y.a)(a,"& .primary",{borderRadius:15,backgroundColor:"#0A1A72","&:hover":{backgroundColor:Object(N.a)("#0A1A72",.8)},"&:disabled":{backgroundColor:Object(N.a)("#0A1A72",.7)}}),Object(y.a)(a,"& .main",{borderRadius:15,backgroundColor:"#B3A16C","&:hover":{backgroundColor:Object(N.a)("#B3A16C",.8)}}),Object(y.a)(a,"& .secondary",{borderRadius:15,color:"#000"}),a)}})),A=a(46),B=a(61),T=a(72),F=a(159),S=a(1),I={getIsApproveForAll:A.b,setApprovedForAll:A.g,getNftDetails:F.a,createAnAuction:B.a,createFixPriceSale:T.b};t.default=Object(g.b)((function(e){var t=e.Auth,a=e.Mint,r=e.NftArt,i=e.Wallet,o=e.Web3Instance;return Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)({},r),a),i),{},{loggedInUserId:t.user.userId,web3:o.web3})}),I)((function(e){var t=e.isArtDataLoading,a=e.isArtFound,g=e.artDetails,y=g.tokenId,C=g.art_name,N=g.creator_username,A=g.art_img,B=g.art_description,T=g.owner_id,F=e.loggedInUserId,I=e.isApprovedForAll,P=e.isApprovedForAllLoading,$=e.isApprovedForAllLoadingFailed,W=e.isWalletConnected,z=e.walletAddress,E=e.getIsApproveForAll,R=e.setApprovedForAll,M=e.web3,L=e.createAnAuction,_=e.createFixPriceSale,D=e.getNftDetails,q=w();Object(v.c)();var V=Object(p.g)(),H=Object(p.h)().artParams.split("-"),X=H[H.length-1]||-1;Object(c.useEffect)((function(){D(X)}),[X,D]),Object(c.useEffect)((function(){if(!a){if(!F)return V.push("/");T&&F&&F!==T&&V.push("/")}}),[a,T,F,V]);var J=Boolean(A)?/ipfs:\/\//.test(A)?"https://ipfs.io/ipfs/".concat(A.split("//")[1]):A:k.a,K=Object(c.useState)(!1),U=Object(o.a)(K,2),Y=U[0],G=U[1],Q=function(){return G(!1)},Z=Object(c.useState)(!1),ee=Object(o.a)(Z,2),te=ee[0],ae=ee[1],re=function(){return ae(!1)};Object(c.useEffect)((function(){E()}),[E,z]);var ie=s.a.useState({isAuction:!0,isFixPrice:!1}),ne=Object(o.a)(ie,2),oe=ne[0],ce=oe.isAuction,se=oe.isFixPrice,le=ne[1],de=function(){le((function(e){return Object(n.a)(Object(n.a)({},e),{},{isFixPrice:!!e.isAuction,isAuction:!e.isAuction})}))},he=[{title:"Put on auction",phrase:"",checked:ce,setChecked:de},{title:"Fixed price",phrase:"",checked:se,setChecked:de}],ue={days:b.c("").moreThan(-1,"Must be greater than 0"),hours:b.c("").moreThan(0,"Must be greater than 0").max(24,"Must be less than 24").required("required"),startingBid:b.c("Please Enter a vailable bid").moreThan(0,"Must be greater than 0").required("Starting Bid is required")},pe={fixPrice:b.c("Fixed Price should be a number").moreThan(0,"Must be greater than 0").required("Price is required")},be=b.d(ce?Object(n.a)({},ue):Object(n.a)({},pe)),me=Object(m.a)({initialValues:{days:0,hours:1,startingBid:"",fixPrice:"",accpetTerms:!0},validationSchema:be,onSubmit:function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){var a,i,n,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Number(y),ce?(i=M.utils.toWei(t.startingBid.toString(),"ether"),n=3600*(24*Number(t.days)+Number(t.hours)),L({tokenId:a,priceInWei:i,_endTimeInSeconds:n,artId:X,creator_username:N,art_name:C})):(o=M.utils.toWei(t.fixPrice.toString(),"ether"),_({tokenId:a,priceInWei:o,artId:X,creator_username:N,art_name:C}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});return t?Object(S.jsx)("p",{children:"Loading..."}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(j.a,{children:Object(S.jsxs)("div",{className:q.root,children:[Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:q.container,children:Object(S.jsxs)("div",{container:!0,className:q.formOuter,children:[Object(S.jsx)(l.a,{variant:"h3",className:q.heading,children:"Sell NFT"}),Object(S.jsx)(l.a,{className:q.title,children:"Art Name"}),Object(S.jsx)(l.a,{className:q.description,children:C}),Object(S.jsx)(l.a,{className:q.title,children:"Description"}),Object(S.jsx)(l.a,{className:q.description,children:B}),Object(S.jsxs)("div",{className:q.formRoot,children:[Object(S.jsx)("div",{children:he.map((function(e,t){return Object(S.jsx)(x.a,{title:e.title,phrase:e.phrase,checked:e.checked,setChecked:e.setChecked},t)}))}),Object(S.jsxs)("form",{onSubmit:me.handleSubmit,children:[ce&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("div",{children:Object(S.jsx)("p",{className:q.inputLabel,children:"Place on Auction For:"})}),Object(S.jsxs)("div",{className:q.auctionTimeInputs,children:[Object(S.jsx)("div",{children:Object(S.jsx)(O.a,{name:"days",placeholder:"Days",label:"Days",type:"number",variant:"outlined",className:q.auctionTimeInput,value:me.values.days,helperText:me.touched.days&&me.errors.days,error:me.touched.days&&Boolean(me.errors.days),onChange:me.handleChange,onBlur:me.handleBlur})}),Object(S.jsx)("div",{children:Object(S.jsx)(O.a,{name:"hours",placeholder:"Hours",label:"Hours",type:"number",variant:"outlined",className:q.auctionTimeInput,value:me.values.hours,helperText:me.touched.hours&&me.errors.hours,error:me.touched.hours&&Boolean(me.errors.hours),onChange:me.handleChange,onBlur:me.handleBlur})})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)("p",{className:q.inputLabel,children:"Starting Bid in ETH"}),Object(S.jsx)(O.a,{className:q.inputField,placeholder:"Starting Bid",type:"number",margin:"normal",variant:"outlined",name:"startingBid",value:me.values.startingBid,helperText:me.touched.startingBid&&me.errors.startingBid,error:me.touched.startingBid&&Boolean(me.errors.startingBid),onChange:me.handleChange,onBlur:me.handleBlur})]})]}),se&&Object(S.jsxs)("div",{children:[Object(S.jsx)("p",{className:q.inputLabel,children:"Fix Price in ETH"}),Object(S.jsx)(O.a,{className:q.inputField,placeholder:"Price",type:"number",margin:"normal",variant:"outlined",name:"fixPrice",value:me.values.fixPrice,helperText:me.touched.fixPrice&&me.errors.fixPrice,error:me.touched.fixPrice&&Boolean(me.errors.fixPrice),onChange:me.handleChange,onBlur:me.handleBlur})]}),Object(S.jsx)("div",{children:Object(S.jsxs)("div",{className:q.agreement,children:[Object(S.jsx)(d.a,{color:"primary",name:"accpetTerms",checked:me.values.accpetTerms,onChange:me.handleChange,onBlur:me.handleBlur}),Object(S.jsxs)("p",{children:["I agree to the\xa0",Object(S.jsx)(u.b,{to:"/terms",className:q.termLink,children:"Terms and Conditions"}),me.touched.accpetTerms&&Boolean(me.errors.accpetTerms)&&Object(S.jsx)("p",{className:q.errorMessage,children:me.touched.accpetTerms&&me.errors.accpetTerms})]})]})}),Object(S.jsx)("div",{children:$?Object(S.jsx)(l.a,{variant:"h6",color:"error",className:q.note,children:"Failed to check your approval status. Please try later."}):!I&&!P&&Object(S.jsxs)(l.a,{variant:"h6",className:q.note,children:[Object(S.jsx)("em",{children:"NOTE"}),": You are seeing this message as you need to approve the Krama Marketplace contract to manage minted NFTs on your behalf. You will only need to do this the first time you mint a NFT and it will stay valid for all future minting, you can revoke this authorization at anytime. Note that you may have to wait a minute for the authorization to take effect after it has been submitted to the blockchain."]})}),Object(S.jsxs)("div",{className:q.buttonsContainer,children:[Object(S.jsx)(h.a,{onClick:function(){W&&z?G(!0):ae(!0)},className:"primary button",disabled:!I,fullWidth:!0,children:"Sell Nft"}),!I&&!P&&Object(S.jsx)(h.a,{variant:"outlined",className:"main button",onClick:function(){R({isApprove:!0})},fullWidth:!0,children:"Approve Krama Marketplace"}),Object(S.jsx)(h.a,{variant:"outlined",className:"secondary button",onClick:function(){me.resetForm()},fullWidth:!0,children:"Reset Form"})]})]})]})]})})}),Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:q.imageRoot,children:Object(S.jsxs)("div",{className:q.cardMedia,children:[Object(S.jsx)("div",{className:"outer"}),Object(S.jsx)("div",{className:"media__container",children:Object(S.jsx)("img",{src:J,className:"media",alt:"nft"})})]})})})]})}),Object(S.jsx)(f.a,{onClose:re,onClick:re,head:"Wallet Error",open:te,buttonTitle:"Okay",children:Object(S.jsx)(l.a,{variant:"h6",children:"Please connect your wallet before miniting."})}),Object(S.jsx)(f.a,{onClose:Q,onClick:function(){Q(),me.submitForm()},head:"Are you sure to proceed?",open:Y,buttonTitle:"Okay",children:Object(S.jsx)(l.a,{variant:"h6",children:"All information added (Title, Description and Image) will be stored on the blockchain forever and cannot be changed. Please double check for mistakes before confirming."})})]})}))}}]);